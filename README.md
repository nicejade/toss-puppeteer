<h1 align="center">Toss Puppeteer</h1>

[Puppeteer](https://github.com/GoogleChrome/puppeteer)(ä¸­æ–‡ç¿»è¯‘"æœ¨å¶") æ˜¯ Google Chrome å›¢é˜Ÿå®˜æ–¹çš„æ— ç•Œé¢ï¼ˆHeadlessï¼‰Chrome å·¥å…·ï¼Œå®ƒæ˜¯ä¸€ä¸ª `Node` åº“ï¼Œæä¾›äº†ä¸€ä¸ªé«˜çº§çš„ API æ¥æ§åˆ¶ [DevToolsåè®®ä¸Šçš„æ— å¤´ç‰ˆ](https://chromedevtools.github.io/devtools-protocol/) Chrome ã€‚ä¹Ÿå¯ä»¥é…ç½®ä¸ºä½¿ç”¨å®Œæ•´ï¼ˆéæ— å¤´ï¼‰çš„ Chromeã€‚`Chrome` ç´ æ¥åœ¨æµè§ˆå™¨ç•Œç¨³æ‰§ç‰›è€³ï¼Œå› æ­¤ï¼ŒChrome Headless å¿…å°†æˆä¸º web åº”ç”¨**è‡ªåŠ¨åŒ–æµ‹è¯•**çš„è¡Œä¸šæ ‡æ†ã€‚ä½¿ç”¨ `Puppeteer`ï¼Œç›¸å½“äºåŒæ—¶å…·æœ‰ Linux å’Œ Chrome åŒç«¯çš„æ“ä½œèƒ½åŠ›ï¼Œåº”ç”¨åœºæ™¯å¯è°“éå¸¸ä¹‹å¤šã€‚æ­¤ä»“åº“çš„å»ºç«‹ï¼Œå³æ˜¯å°è¯•å„ç§æŠ˜è…¾ä½¿ç”¨ GoogleChrome Puppeteerï¼›ä»¥æœŸåœ¨å¥½ç©çš„åŒæ—¶ï¼Œå­¦åˆ°æ›´å¤šæœ‰æ„æ€çš„æ“ä½œã€‚

## `Puppeteer` èƒ½åšäº›ä»€ä¹ˆ

ä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨å®Œæˆçš„å¤§éƒ¨åˆ†äº‹æƒ…éƒ½å¯ä»¥ä½¿ç”¨ `Puppeteer` å®Œæˆï¼ä½ å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªç¤ºä¾‹å¼€å§‹ï¼š

- ç”Ÿæˆé¡µé¢çš„æˆªå›¾å’ŒPDFã€‚
- æŠ“å–SPAå¹¶ç”Ÿæˆé¢„å…ˆå‘ˆç°çš„å†…å®¹ï¼ˆå³â€œSSRâ€ï¼‰ã€‚
- ä»ç½‘ç«™æŠ“å–ä½ éœ€è¦çš„å†…å®¹ã€‚
- è‡ªåŠ¨è¡¨å•æäº¤ï¼ŒUIæµ‹è¯•ï¼Œé”®ç›˜è¾“å…¥ç­‰
- åˆ›å»ºä¸€ä¸ªæœ€æ–°çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç¯å¢ƒã€‚ä½¿ç”¨æœ€æ–°çš„JavaScriptå’Œæµè§ˆå™¨åŠŸèƒ½ï¼Œç›´æ¥åœ¨æœ€æ–°ç‰ˆæœ¬çš„Chromeä¸­è¿è¡Œæµ‹è¯•ã€‚
- æ•è·æ‚¨çš„ç½‘ç«™çš„æ—¶é—´çº¿è·Ÿè¸ªï¼Œä»¥å¸®åŠ©è¯Šæ–­æ€§èƒ½é—®é¢˜ã€‚

## è‡ªåŠ¨æŠ“å–æŒ‡å®šç½‘ç«™æ–‡ç« åˆ†äº«è‡³æŒ‡å®šç½‘ç«™

è¿™ç•ªæŠ˜è…¾ï¼Œæ˜¯åŸºäº `Puppeteer` æŠ“å–æŸç½‘é¡µé“¾æ¥ï¼ˆ å…·ä½“æ˜¯åœ¨ https://jeffjade.com/categories/Front-End/ ä¸­éšæœºå‡ºä¸€ç¯‡ï¼‰ï¼Œå°†å…¶æ¨é€åˆ°[æŠ€æœ¯å¤´æ¡](http://blogread.cn/news/)ï¼›å…¶ç›®çš„åœ¨äºï¼šç»ƒä¹ åˆæ­¥è¿ç”¨ `Puppeteer`ã€‚

### è¿è¡Œå‘½ä»¤
```
git clone https://github.com/nicejade/toss-puppeteer
npm i (æ›´æ¨è yarn)
npm run shareBlogToBlogread
```
### æ­¥éª¤è¯¦è¿°
- [X] æ‰“å¼€[æŠ€æœ¯å¤´æ¡-æäº¤é¡µé¢](http://blogread.cn/news/submit.php)ï¼ŒåŒæ—¶åˆ° [æ™šæ™´å¹½è‰è½©-Front-End](https://jeffjade.com/categories/Front-End/) éšæœºæŠ“å–ä¸€ç¯‡æ–‡ç« ï¼Œè·å–åˆ°æ ‡é¢˜ã€åœ°å€ã€æè¿°ã€‚
- [X] æ¨¡æ‹Ÿäººä¸ºæ“ä½œï¼Œç‚¹å¼€â€œç”¨å¾®åšç™»å½•â€æŒ‰é’®(ä¼šè·³è½¬è‡³å¾®åšç™»å½•é¡µé¢)ï¼›
- [X] æ¨¡æ‹Ÿäººä¸ºæ“ä½œï¼Œå¡«å……ç”¨æˆ·åå’Œå¯†ç å¹¶â€œç‚¹å‡»â€ç™»å½•æŒ‰é’®ï¼Œå®Œæˆç™»å½•(ä¼šé‡æ–°è·³è½¬è‡³[æŠ€æœ¯å¤´æ¡-æäº¤é¡µé¢](http://blogread.cn/news/submit.php))ï¼›
- [X] æ¨¡æ‹Ÿäººä¸ºæ“ä½œï¼Œå¡«å……ä¹‹å‰è·å–åˆ°çš„æ ‡é¢˜ã€åœ°å€ã€æè¿°ï¼Œå¹¶â€œç‚¹å‡»â€æäº¤ï¼Œæ‰“å®Œæ”¶å·¥ã€‚
- [ ] å°†å…¶éƒ¨ç½²äºæœåŠ¡å™¨ï¼Œå¹¶è®¾ç½®ä»»åŠ¡ï¼Œå®šæ—¶é—´éš”æ€§æ‰§è¡Œï¼Œå®Œæˆè‡ªåŠ¨æŒ‰æ—¶åˆ†äº«ã€‚

## æŠ“å–æŒ‡å®šç½‘ç«™é¡µé¢å¹¶å°†å…¶æ‰“å°æˆ PDF

æ­¤ç•ªæŠ˜è…¾ï¼Œæ˜¯åŸºäº `Puppeteer` æŠ“å–æŒ‡å®šç½‘ç«™é¡µé¢(ç¤ºä¾‹æ˜¯ https://jeffjade.com/  æ‰€æœ‰æ–‡ç« )ï¼Œå¹¶å°†å…¶æ‰“å°æˆ PDFï¼›å…¶ç›®çš„åœ¨äºï¼šè¿›ä¸€æ­¥ç†Ÿæ‚‰è¿ç”¨ `Puppeteer`ã€‚

### è¿è¡Œå‘½ä»¤
```
git clone https://github.com/nicejade/toss-puppeteer
npm i (æ›´æ¨è yarn)
npm run printWebsiteToPDF
```

### æ­¥éª¤è¯¦è¿°
- [X] æ‰“å¼€ https://jeffjade.com/archives é¡µé¢ï¼Œä»è€Œå¾—åˆ°åšå®¢æ–‡ç« æ€»åˆ†é¡µæ€»æ•°ï¼›
- [X] è¿ç”¨ `axios` & `cheerio` æŠ“å–åˆ†é¡µå¹¶åˆ†æï¼Œä»è€Œå¾—åˆ°ç½‘ç«™æ‰€æœ‰æ–‡ç« é“¾æ¥ï¼Œå¹¶å­˜å‚¨åœ¨æ•°æ®ä¸­ï¼›
- [X] éå†æ‰€æœ‰é“¾æ¥ï¼ˆå€ŸåŠ© `async` æ§åˆ¶å¹¶å‘ï¼‰ï¼Œåœ¨é¡µé¢æ¸²æŸ“å®Œæˆä¹‹åï¼Œå°†å…¶æ‰“å°æˆ PDF å¹¶ä¿å­˜ã€‚

![ä½¿ç”¨ Puppeteer æŠ“å–æŒ‡å®šç½‘ç«™é¡µé¢å¹¶å°†å…¶æ‰“å°æˆ PDF](https://raw.githubusercontent.com/nicejade/toss-puppeteer/master/screenshot/jeffjade-pdf.png)

## ä¸€é”®åˆå§‹åŒ– `Gitment` è¯„è®ºç³»ç»Ÿ

### **èƒŒæ™¯è¯´æ˜** ã€

æ—©å‰åœ¨ [About Me](https://jeffjade.com/About/)æœ‰å¦‚æ­¤æ„Ÿå¹é“ï¼š
>å—Ÿå¤«ï¼ŒçœŸçœŸæ˜¯ï¼šç‹¬ç«‹çš„æ‰æ˜¯è‡ªå·±çš„ã€‚åšå®¢ä»æœ€å¼€å§‹ç”¨**å¤šè¯´**ï¼Œ17å¹´6æœˆ1æ—¥å…³é—­æœåŠ¡åï¼Œè½¬æˆ˜**ç½‘æ˜“äº‘è·Ÿå¸–**ï¼›æœªæ›¾æƒ³å®ƒ8æœˆ1æ—¥ä¹Ÿè·Ÿç€å…³é—­äº†ã€‚ç´¢æ€§è½¬æŠ•é è‡³å›½å¤–**Disqus**ï¼Œå¥ˆä½•è¿™å µå¢™å‰å®³ä¹‹æï¼Œå®¶é‡Œè™½ä¹Ÿç¿»äº†å¢™ï¼Œå´ä»ä¸èƒ½å¾ˆå¥½è®¿é—®ï¼›è¿™æ‰åˆè½¬æˆ˜è‡³ **Gitment**ï¼›ğŸ˜‚è¨€å¤šçš†æ³ªï¼Œæ„Ÿæ…¨é¢‡å¤šå•Šâ€”â€”ç‹¬ç«‹çš„æ‰æ˜¯è‡ªå·±çš„ï¼Œä¹‹åå¾—ç©ºæ—¶å€™ï¼Œè¿˜æ˜¯è‡ªå·±æä¸€å¥—ğŸ˜ªï¼ŒFightingã€‚

è¿™æåŠçš„ [Gitment](https://github.com/imsun/gitment) æ˜¯åŸºäº GitHub Issues çš„è¯„è®ºç³»ç»Ÿï¼›å®ƒæœ¬èº«çš„ä¸€äº›ç‰¹å¾ï¼Œä½¿å¾—å®ƒå­˜åœ¨å¾ˆå¤šä¼˜åŠ¿ï¼Œå¯¹äºç»´æŠ¤â€œç¨‹åºâ€ç›¸å…³è¯é¢˜åšå®¢ã€‚æ‰€ä»¥ï¼Œä¸ªäººåšå®¢[æ™šæ™´å¹½è‰è½©](https://jeffjade.com)å°±é‡‡ç”¨æ­¤è¯„è®ºç³»ç»Ÿï¼›ä½†ï¼Œå®ƒä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè­¬å¦‚éœ€è¦ä¸»åŠ¨åˆå§‹åŒ–è¯„è®º,[initialize-your-comments](https://github.com/imsun/gitment#4-initialize-your-comments)ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿ç”¨äº›å·¥å…·ååŠ©å®Œæˆâœ…ã€‚å¯¹äºå·²ç»å†™äº† 140+ ç¯‡åšæ–‡çš„[æ™šæ™´å¹½è‰è½©](https://jeffjade.com)ï¼Œè¿™å®åœ¨å¾ˆæœ‰å¿…è¦ï¼›æ‰€ä»¥ï¼Œè¿™é‡Œè°ˆåŠå³ï¼Œä½¿ç”¨ `Puppeteer` ä¸€é”®æ¥åˆå§‹åŒ– `Gitment` è¯„è®ºç³»ç»Ÿï¼ˆéœ€è¦æ³¨æ˜çš„æ˜¯ï¼Œæ¯ä¸ªç³»ç»Ÿç»“æ„æœ‰æ‰€åŒºåˆ«ï¼Œè¿™é‡Œåªå…·æœ‰äº›å‚è€ƒæ€§ï¼Œå´ä¸èƒ½ç›´æ¥åŠ ä»¥ä½¿ç”¨ï¼‰ã€‚

### è¿è¡Œå‘½ä»¤
```
git clone https://github.com/nicejade/toss-puppeteer
npm i (æ›´æ¨è yarn)
npm run initializeGitment
```

### æ­¥éª¤è¯¦è¿°
- [X] æ‰“å¼€ https://jeffjade.com/archives é¡µé¢ï¼Œä»è€Œå¾—åˆ°åšå®¢æ–‡ç« æ€»åˆ†é¡µæ€»æ•°ï¼›
- [X] è¿ç”¨ `axios` & `cheerio` æŠ“å–åˆ†é¡µå¹¶åˆ†æï¼Œä»è€Œå¾—åˆ°ç½‘ç«™æ‰€æœ‰æ–‡ç« é“¾æ¥ï¼Œå¹¶å­˜å‚¨åœ¨æ•°æ®ä¸­ï¼›
- [X] æ‰“å¼€ Github ç™»å½•åœ°å€ï¼š https://github.com/login ï¼Œå¡«å……ç”¨æˆ·åã€å¯†ç ï¼Œä»è€Œå®Œæˆç™»å½•ï¼›
- [X] éå†æ‰€å­˜å‚¨é“¾æ¥ï¼Œå¹¶åœ¨ä¸åŒçª—å£æ‰“å¼€ï¼ˆå€ŸåŠ© `async` æ§åˆ¶å¹¶å‘ï¼‰ï¼›
- [X] ç­‰å¾…ï¼Œç›´åˆ°åˆå§‹åŒ–æŒ‰é’®æ˜¾ç¤ºåå¹¶ç‚¹å‡»ï¼ˆå®é™…ä¸Šéœ€è¦å…ˆè§¦å‘åšå®¢é¡µé¢çš„ Github login é“¾æ¥ï¼‰ï¼›

![ä¸€é”®åˆå§‹åŒ– Gitment è¯„è®ºç³»ç»Ÿ](https://raw.githubusercontent.com/nicejade/toss-puppeteer/master/screenshot/gitment01.png)

å¯„å­˜çš„åšå®¢è¯„è®ºï¼Œå¯åœ¨ [jadeblog-backups#issues](https://github.com/nicejade/jadeblog-backups/issues) æŸ¥çœ‹;(å®é™…ä¸Šï¼Œåœ¨ä½¿ç”¨ `Gitment` ä¹‹æ—¶ï¼Œè§¦å‘åˆå§‹åŒ–æŒ‰é’®ï¼Œå¹¶æœªèƒ½çœŸæ­£å®Œæˆåˆå§‹åŒ–ï¼ŒçŒœæµ‹è¿™å¯èƒ½æ˜¯æ’ä»¶æœ¬èº«çš„é—®é¢˜ï¼Œæˆ–è€…åˆ«çš„ï¼Œéœ€è¦è¿›ä¸€æ­¥æ¢ç©¶ï¼‰(Update@17-11-23)ã€‚

## ç”¨ `Puppeteer Trace` åšæ€§èƒ½åˆ†æ

å¯ä»¥ä½¿ç”¨ `tracing.start` å’Œ `tracing.stop` åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨ Chrome å¼€å‘å·¥å…·æˆ–æ—¶é—´çº¿æŸ¥çœ‹å™¨ä¸­æ‰“å¼€çš„è·Ÿè¸ªæ–‡ä»¶(æ¯ä¸ªæµè§ˆå™¨ä¸€æ¬¡åªèƒ½æ¿€æ´»ä¸€ä¸ªè·Ÿè¸ª)ï¼Œå…·ä½“å‚è§ [Puppeteer Trace Api](https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#class-tracing)ã€‚

```
await page.tracing.start({path: 'trace.json'})
await page.goto('https://www.google.com')
await page.tracing.stop()
```

### è¿è¡Œå‘½ä»¤
```
git clone https://github.com/nicejade/toss-puppeteer
npm i (æ›´æ¨è yarn)
npm run performanceAnalysis
```

![ä¸€é”®åˆå§‹åŒ– Gitment è¯„è®ºç³»ç»Ÿ](https://raw.githubusercontent.com/nicejade/toss-puppeteer/master/screenshot/blog-lovejade-cn-trace.jpg)

å¯¹äº Chrome Performanceï¼Timelineï¼Œå¦‚ä½•ä½¿ç”¨ï¼Œå¯ä»¥å‚è§ [Chrome å¼€å‘è€…å·¥å…·](https://developers.google.com/web/tools/chrome-devtools/?hl=zh-cn)ï¼Œæˆ–è€…ç§»æ­¥è‡³ [Chrome Tutorial](https://github.com/nicejade/nice-front-end-tutorial/blob/master/tutorial/chrome-tutorial.md)ï¼Œè¿™é‡Œæœ‰æ¯”è¾ƒè¯¦å°½çš„ï¼Œä¸æ–­è¡¥å……ä¿®ç¼®çš„å‚è€ƒèµ„æ–™ã€‚
